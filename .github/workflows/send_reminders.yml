# .github/workflows/send_reminders.yml

name: "Send Booking Reminders"

# Disparador: se ejecuta en un horario programado
on:
  schedule:
    # Ejecutar a los 0 y 30 minutos de cada hora
    - cron: '0,30 * * * *'
  # También puedes añadir un disparador manual para probarlo
  workflow_dispatch:

jobs:
  send_reminders:
    runs-on: ubuntu-latest
    steps:
      - name: Call the send-reminders API endpoint
        run: |
          curl --request GET \
          --url '${{ secrets.BASE_URL }}/api/cron/send-reminders' \
          --header 'Authorization: Bearer ${{ secrets.CRON_SECRET }}'
